{"ast":null,"code":"import _asyncToGenerator from\"/Users/mac/Desktop/Pizza 2/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mac/Desktop/Pizza 2/react-pizza-v2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/mac/Desktop/Pizza 2/react-pizza-v2/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{Link}from'react-router-dom';import axios from'axios';import{useParams,useNavigate}from'react-router-dom';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FullPizza=function FullPizza(){var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),pizza=_React$useState2[0],setPizza=_React$useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();React.useEffect(function(){function fetchPizza(){return _fetchPizza.apply(this,arguments);}function _fetchPizza(){_fetchPizza=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://626d16545267c14d5677d9c2.mockapi.io/items/'+id);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setPizza(data);_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);alert('Ошибка при получении пиццы!');navigate('/');case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchPizza.apply(this,arguments);}fetchPizza();},[]);if(!pizza){return/*#__PURE__*/_jsx(_Fragment,{children:\"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:pizza.imageUrl}),/*#__PURE__*/_jsx(\"h2\",{children:pizza.title}),/*#__PURE__*/_jsxs(\"h4\",{children:[pizza.price,\" \\u20BD\"]}),/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button button--outline button--add\",children:/*#__PURE__*/_jsx(\"span\",{children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"})})})]});};export default FullPizza;","map":{"version":3,"sources":["/Users/mac/Desktop/Pizza 2/react-pizza-v2/src/pages/FullPizza.tsx"],"names":["React","Link","axios","useParams","useNavigate","FullPizza","useState","pizza","setPizza","id","navigate","useEffect","fetchPizza","get","data","alert","imageUrl","title","price"],"mappings":"gYAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,C,6IAEA,GAAMC,CAAAA,SAAmB,CAAG,QAAtBA,CAAAA,SAAsB,EAAM,CAChC,oBAA0BL,KAAK,CAACM,QAAN,EAA1B,oDAAOC,KAAP,qBAAcC,QAAd,qBAMA,eAAeL,SAAS,EAAxB,CAAQM,EAAR,YAAQA,EAAR,CACA,GAAMC,CAAAA,QAAQ,CAAGN,WAAW,EAA5B,CAEAJ,KAAK,CAACW,SAAN,CAAgB,UAAM,SACLC,CAAAA,UADK,wIACpB,mMAE2BV,CAAAA,KAAK,CAACW,GAAN,CAAU,qDAAuDJ,EAAjE,CAF3B,uCAEYK,IAFZ,kBAEYA,IAFZ,CAGIN,QAAQ,CAACM,IAAD,CAAR,CAHJ,+EAKIC,KAAK,CAAC,6BAAD,CAAL,CACAL,QAAQ,CAAC,GAAD,CAAR,CANJ,oEADoB,6CAWpBE,UAAU,GACX,CAZD,CAYG,EAZH,EAcA,GAAI,CAACL,KAAL,CAAY,CACV,mBAAO,gFAAP,CACD,CAED,mBACE,aAAK,SAAS,CAAC,WAAf,wBACE,YAAK,GAAG,CAAEA,KAAK,CAACS,QAAhB,EADF,cAEE,oBAAKT,KAAK,CAACU,KAAX,EAFF,cAGE,sBAAKV,KAAK,CAACW,KAAX,aAHF,cAIE,KAAC,IAAD,EAAM,EAAE,CAAC,GAAT,uBACE,eAAQ,SAAS,CAAC,oCAAlB,uBACE,wDADF,EADF,EAJF,GADF,CAYD,CAxCD,CA0CA,cAAeb,CAAAA,SAAf","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\n\nconst FullPizza: React.FC = () => {\n  const [pizza, setPizza] = React.useState<{\n    imageUrl: string;\n    title: string;\n    price: number;\n  }>();\n\n  const { id } = useParams();\n  const navigate = useNavigate();\n\n  React.useEffect(() => {\n    async function fetchPizza() {\n      try {\n        const { data } = await axios.get('https://626d16545267c14d5677d9c2.mockapi.io/items/' + id);\n        setPizza(data);\n      } catch (error) {\n        alert('Ошибка при получении пиццы!');\n        navigate('/');\n      }\n    }\n\n    fetchPizza();\n  }, []);\n\n  if (!pizza) {\n    return <>Загрузка...</>;\n  }\n\n  return (\n    <div className=\"container\">\n      <img src={pizza.imageUrl} />\n      <h2>{pizza.title}</h2>\n      <h4>{pizza.price} ₽</h4>\n      <Link to=\"/\">\n        <button className=\"button button--outline button--add\">\n          <span>Назад</span>\n        </button>\n      </Link>\n    </div>\n  );\n};\n\nexport default FullPizza;\n"]},"metadata":{},"sourceType":"module"}